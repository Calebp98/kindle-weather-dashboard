<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kindle Weather Dashboard</title>
    <meta http-equiv="refresh" content="900">
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        body {
            font-family: serif;
            font-size: 36px;
            line-height: 1.6;
            color: #000;
            background: #fff;
            padding: 40px 20px;
        }

        .container {
            width: 100%;
            margin: 0 auto;
        }

        /* Header */
        header {
            text-align: center;
            margin-bottom: 60px;
        }

        .location {
            margin-bottom: 15px;
        }

        .date-time {
            color: #000;
        }

        .date {
            margin-right: 20px;
        }

        /* Current weather */
        .current-weather {
            text-align: center;
            margin-bottom: 80px;
        }

        .current-main {
            margin-bottom: 40px;
        }

        .temperature {
            margin-bottom: 30px;
        }

        .daily-highs {
            display: block;
            margin-bottom: 20px;
        }

        .current-temp {
            color: #000;
            margin-bottom: 10px;
            display: block;
        }

        .feels-like {
            color: #000;
            margin-bottom: 30px;
            display: block;
        }

        .description {
            text-transform: capitalize;
            margin-bottom: 30px;
        }

        /* Replace flexbox with table-style layout */
        .current-details {
            text-align: center;
            margin-bottom: 40px;
        }

        .detail-item {
            display: inline-block;
            margin: 0 30px;
            text-align: center;
            vertical-align: top;
        }

        /* Daily forecast */
        .daily-forecast {
            text-align: center;
            margin-bottom: 40px;
        }

        .daily-forecast h2 {
            margin-bottom: 30px;
            color: #000;
        }

        .forecast-temp {
            margin-bottom: 20px;
        }

        .high {
            margin-right: 20px;
        }

        .low {
            color: #000;
        }

        /* Sun times */
        .sun-times {
            text-align: center;
            margin-top: 40px;
        }

        .sun-item {
            display: inline-block;
            margin: 0 30px;
            text-align: center;
            vertical-align: top;
        }

        /* Detail styling */
        .label {
            display: block;
            color: #000;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .value {
            display: block;
        }

        /* Footer */
        footer {
            margin-top: 80px;
            text-align: center;
        }

        .last-updated {
            color: #000;
        }

        /* Hide weather icons and unnecessary elements */
        .icon {
            display: none;
        }

        .weather-icon .description {
            display: none;
        }

        /* Ensure good spacing between sections */
        section {
            margin-bottom: 60px;
        }

        /* Make sure text is readable on e-ink */
        h1, h2, h3 {
            font-weight: bold;
            color: #000;
        }

        /* Simple border for visual separation if needed */
        .weather-section {
            border-bottom: 2px solid #000;
            padding-bottom: 30px;
            margin-bottom: 30px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1 class="location">{{location}}</h1>
            <div class="date-time">
                <span class="date">{{currentDate}}</span>
                <span class="time">{{currentTime}}</span>
            </div>
        </header>

        <main>
            <section class="current-weather weather-section">
                <div class="current-main">
                    <div class="temperature">
                        <span class="daily-highs">Today: {{dailyHigh}}째C / {{dailyLow}}째C</span>
                        <span class="current-temp">Now: {{currentTemp}}째C</span>
                        <span class="feels-like">Feels like {{currentFeelsLike}}째C</span>
                    </div>
                    <div class="weather-icon">
                        <span class="icon">{{currentWeatherIcon}}</span>
                        <span class="description">{{currentWeatherDesc}}</span>
                    </div>
                </div>
                
                <div class="current-details">
                    <div class="detail-item">
                        <span class="label">Humidity</span>
                        <span class="value">{{currentHumidity}}%</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">Wind</span>
                        <span class="value">{{currentWindSpeed}} m/s</span>
                    </div>
                </div>
            </section>

            <section class="daily-forecast">
                <div class="sun-times">
                    <div class="sun-item">
                        <span class="label">Sunrise</span>
                        <span class="value">{{sunrise}}</span>
                    </div>
                    <div class="sun-item">
                        <span class="label">Sunset</span>
                        <span class="value">{{sunset}}</span>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p class="last-updated">Last updated: {{lastUpdated}}</p>
            <p class="activity-counter">Activity counter: <span id="counter">0</span></p>
        </footer>
    </div>

    <script>
        let counter = 0;
        
        // Periodically trigger events to simulate activity
        setInterval(() => {
          // Increment counter
          counter++;
          document.getElementById('counter').textContent = counter;
          
          // Touch events
          document.dispatchEvent(new TouchEvent('touchstart', {
            bubbles: true,
            cancelable: true
          }));
          
          // Or mouse events
          document.dispatchEvent(new MouseEvent('mousemove', {
            bubbles: true,
            cancelable: true
          }));
        }, 30000); // Every 30 seconds
    </script>
</body>
</html>